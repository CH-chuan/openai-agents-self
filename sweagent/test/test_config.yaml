# Example configuration for the SWE-agent runtime.
# Adjust paths and environment variable values to match your setup.

agent:
  model:
    name: openai/gpt-oss-20b
    api_key: ${VLLM_API_KEY}
    api_base: ${VLLM_API_BASE}
    temperature: 0.6

  security:
    blocked_commands:
      - rm
      - pip
      - git
      - sudo

  limits:
    max_tokens: 131,072
    max_steps: 3

  templates:
    system_template: |-
      You are an autonomous programmer working in a Singularity container.
      Execute bash commands and submit solutions when done.
      Now I only want you to list the files in the current directory using command ls.

  # mcp:
  #   path: /opt/mcp/filesystem/server
  #   tool_allowlist:
  #     - read_file
  #     - write_file
  #     - list_directory
  #   env:
  #     MCP_LOG_LEVEL: info
  #   use_structured_content: false

  commands:
    apptainer_image: ./swebench_instances/images/swebench_sweb.eval.x86_64.astropy_1776_astropy-12907.sif
    working_directory: /testbed
    bind_mounts:
      - /host/data:/workspace/data
      - /host/cache:/workspace/.cache

